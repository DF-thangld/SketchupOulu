{% extends "base.html" %} 
{% block custom_css %} 

{% endblock %}

{% block onload_script %}
    if (window.location.hash.substr(1) == 'building_models')
        get_building_models();
    else if (window.location.hash.substr(1) == 'scenarios')
        get_building_models();
    else
        get_user_profile();
{% endblock %}


{% block js_script %}

    $(document).on('click', '#profile_menu li', function() {
	   $("#profile_menu li").removeClass("active");
	   $(this).addClass("active");
	});


    function get_user_profile()
    {
        $("#profile_menu li").removeClass("active");
        $('#menu_profile').addClass('active');
        $('#user_data_form').fadeOut('fast');
		$.ajax({
			type: "GET",
			url: "{{ url_for('users.user_profile') }}",
			success: function(data) {
				// return success
				if (data.length > 0) {
					$('#user_data_form').html(data);
					$('#user_data_form').fadeIn('fast');
				}
			}
		});
    }

    function get_user_scenarios()
    {
        $("#profile_menu li").removeClass("active");
        $('#menu_scenarios').addClass('active');
    }

    function get_building_models()
    {
        $("#profile_menu li").removeClass("active");
        $('#menu_building_models').addClass('active');
    }



{% endblock %}

{% block menu %}
	{% include 'inside_menu.html' %}
{% endblock %}

{% block main_content %}

<div class="container">
	<div class="row" style="margin-top: 20px;">
	<div class="col-lg-12 col-centered">
        <ol class = "breadcrumb">
           <li><a href = "{{ url_for('index') }}">Home</a></li>
           <li class = "active">{{ g.user.username }}'s profile</li>
        </ol>
		<h2 style="font-size: 45px;">{{ g.user.username }}'s profile</h2>

        <div class="col-md-3">
			<ul class="nav nav-pills nav-stacked" id="profile_menu">
					<li id="menu_profile"><a href="#profile" onclick="get_user_profile();">Profile</a></li>
					<li id="menu_building_models" class=""><a href="#building_models" onclick="get_user_scenarios();">Scenarios</a></li>
					<li id="menu_scenarios" class=""><a href="#scenarios" onclick="get_building_models();">Building models</a></li>
				</ul>
		</div>

        <div class="col-md-9" id="user_data_form">

		</div>

    </div>
</div>


{% endblock %}